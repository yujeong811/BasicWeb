<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/public.css">
<script>

	function proc1() {
		ulist = document.getElementsByTagName('ul')[0];

		allItems = ulist.getElementsByTagName('li');

		str = "";
		for (i = 0; i < allItems.length; i++) {
			str += allItems[i].firstChild.data + "<br>";
		}
		// alert(str);
		document.getElementById('result1').innerHTML = str;
	}

	function proc2() {
		ulist = document.getElementsByTagName('ul')[1];

		allItems = ulist.getElementsByTagName('li');

		for (i = 0; i < allItems.length; i++) {
			str = allItems[i].firstChild.data;
			
			//str : 국화
			//이미지 생성 <img src="" alt="">
			vimg = document.createElement('img');
			vimg.src = "../images/" + str + ".jpg";
			vimg.alt = str;
			
			allItems[i].appendChild(vimg);
		}
	}
	
	function proc3(vli) {
		str = vli.firstChild.data;

		vimg = document.createElement('img');
		vimg.src = "../images/" + str + ".jpg";
		vimg.alt = str;
		vimg.style.borderRadius = "50%";

		vli.appendChild(vimg);
	}

	window.onload = function() {
		vlis = document.getElementsByClassName('eli');

		// 이벤트 일괄등록
		for (i = 0; i < vlis.length; i++) {
			vlis[i].addEventListener('click', addImage);
			
			// 각 class=eli 에서 click이벤트가 발생하면 addImage함수를 호출한다
			// (함수 호출형식이 아니라 파라미터 변수 형식이라 '()'를 안 붙였음) - this가 자동으로 넘어간다
		}
	}
	
	function addImage() {
		// this는 자동으로 넘어와서 사용가능 - 클릭한 대상의 객체가 this
		str = this.firstChild.data;
		
		vimg = document.createElement('img');
		vimg.src = "../images/" + str + ".jpg";
		vimg.alt = str;
		vimg.style.borderRadius = "50%";
		
		this.appendChild(vimg);		
	}
</script>

<style>
img {
	width : 80px;
	height : 80px;
}
</style>
</head>
<body>
	<div class="box">
		<pre>
		dom 트리를 이용해서 각 요소에 접근
		li의 text문자를 추출
		</pre>
		<ul>
			<li>홍길동</li>
			<li>개나리</li>
			<li>진달래</li>
			<li>무궁화</li>
		</ul>
		<input type="button" value="확인" onclick="proc1()">
		<div id="result1"></div>
	</div>
	
	<div class="box">
		<pre>
		dom 트리를 이용해서 각 요소에 접근
		버튼을 클릭하면 li의 text문자를 추출하여 이미지를 생성하고 추가
		</pre>
		<ul>
			<li>국화</li>
			<li>대나무숲</li>
			<li>사자</li>
			<li>아메리카노</li>
		</ul>
		<input type="button" value="확인" onclick="proc2()">
		<div id="result2"></div>
	</div>
	
	<div class="box">
		<pre>
		dom트리를 이용해서 각 요소에 접근
		각 li요소를 클릭하면 클릭한 대상의 li의 text문자를 추출
		img를 추가
		</pre>
		<ul>
			<li onclick="proc3(this)">국화</li>
			<li onclick="proc3(this)">대나무숲</li>
			<li onclick="proc3(this)">사자</li>
			<li onclick="proc3(this)">아메리카노</li>
		</ul>
	</div>
	
	<div class="box">
		<pre>
		dom트리를 이용해서 각 요소에 접근
		각 li요소를 클릭하면 클릭한 대상의 li의 text문자를 추출
		img를 추가
		
		이벤트방식 - 일괄 이벤트 등록
		각 li요소마다 onclick=proc(this)이벤트를 기술하지 않는다.
		</pre>
		<ul>
			<li class="eli">국화</li>
			<li class="eli">대나무숲</li>
			<li class="eli">사자</li>
			<li class="eli">아메리카노</li>
		</ul>
	</div>
</body>
</html>