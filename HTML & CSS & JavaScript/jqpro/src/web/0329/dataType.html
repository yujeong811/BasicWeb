<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/public.css">

<script src="../js/jquery-3.6.0.min.js"></script>

<script>
	$(function(){
		$('#text').on('click', function(){
		/*
			$.ajax({
				url : '../0328/text.jsp',
				type : 'get',
				
				success : function(res){
					arr = res.split("/");
					
					str = "<ul>";
					
					$.each(arr, function(i, v){
						// arr[i] == v
						str += "<li>" + res[i] + "</li>";
					})
					
					str += "</ul>";
					
					$('#result1').html(str);
				},
				error : function(xhr){
					alert("상태 : " + xhr.status)
				},
				dataType : 'text'
			})
		*/
		
		// ajax 단축
			$.get(
					'../0328/text.jsp',
					function(res){
						arr = res.split("/");
						
						str = "<ul>";
						
						$.each(arr, function(i, v){
							// arr[i] == v
							str += "<li>" + res[i] + "</li>";
						})
						
						str += "</ul>";
						
						$('#result1').html(str);
					},
					'text'
			);
		})
		
		//------------------------------------------------
		
		$('#jarr').on('click', function(){
			$.ajax({
				url : '../0328/jsonArr.jsp',
				type : 'get',
			
				success : function(res){
					
					str = "<ol>"
					
					$.each(res, function(i){
						str += "<li>" + res[i] + "</li>";
					})
					
					str += "</ol>";
					
					$('#result2').html(str);
				},
				error : function(xhr){
					alert("상태 : " + xhr.status)
				},
				dataType : 'json'
			})
		})
		
		//------------------------------------------------
		
		$('#jobj').on('click', function(){
			$.ajax({
				url : '../0328/jsonObj.jsp',
				type : 'get',
				
				success : function(res){
					
					str = "아이디 : " + res.id + "<br>";
					str += "이 름 : " + res.name + "<br>";
					str += "주 소 : " + res.addr + "<br>";
					str += "번 호 : " + res.hp;
					
					$('#result3').html(str);
				},
				error : function(){
					alert("상태 : " + xhr.status)
				},
				dataType : 'json'
			})
		})
		
		//------------------------------------------------
		
		$('#jobarr').on('click', function(){
			$.ajax({
				url : '../0328/jsonObjArr.jsp',
				type : 'get',
				
				success : function(res){
					
					str = "";
					$.each(res, function(i){
						str += i + 1 + "번째 자료<br>";
						str += "아이디 : " + res[i].id + "<br>";
						str += "이 름 : " + res[i].name + "<br>";
						str += "주 소 : " + res[i].addr + "<br>";
						str += "번 호 : " + res[i].hp + "<br><br>";
						
						$('#result4').html(str);
					})
				},
				error : function(){
					
				},
				dataType : 'json'
			})
		})
		
	})
</script>

<style>
.box div {
	width: 20%;
	float: left;
}

br {
	clear: both;
}

.box .d1{
	width : 15%;
}

.box .d2{
	width : 25%;
}
</style>

</head>
<body>

	<div class="box">
		<pre>
	    </pre>
		<input type="button" value="text" id="text"> <input
			type="button" value="jsonArr" id="jarr"> <input type="button"
			value="jsonObjArr" id="jobj"> <input type="button"
			value="mixData" id="jobarr"> 
			<br>
		<div class="d1" id="result1"></div>
		<div class="d1" id="result2"></div>
		<div class="d2" id="result3"></div>
		<div class="d2" id="result4"></div>
	</div>
</body>
</html>